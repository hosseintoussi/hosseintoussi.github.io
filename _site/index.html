<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      HosseinToussi &middot; A simple blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about.html">About</a>
        
      
    
      
    
      
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="http://hosseintoussi.github.io/" title="Home">HosseinToussi</a>
            <small>A simple blog</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hosseintoussi.github.io/conf/2016/07/24/RedDotRubyConf-2016.html">
        RedDot Ruby Conf 2016
      </a>
    </h1>

    <span class="post-date">24 Jul 2016</span>

    <p>I recently had a chance to attend RedDot Ruby in Singapore, and I have to say it was an amazing experience in my career. I had never attended a Ruby conf before, but I watched a lot of them online. Getting to meet such great people like Matz, and Aaron Patterson in person was like a dream come true.</p>

<p>If you are interested in the talks given at RedDot Ruby this year, you can check out <a href="https://gist.github.com/cheeaun/43843c8b1c764825b9f3d63ed8f5bd78">this great gist</a> that has the videos of all the talks.</p>

<p>When I talked to Matz I thanked him for Ruby and the great community. He is a very down to earth type of guy and extremely friendly. He reminded me of a saying that rubyists have: <code>Matz is nice so we are nice</code>. That was the point I realised how accurate that is.</p>

<p>Same goes to Aaron, very friendly and nice, plus he has stickers of his cats (haha).</p>

<p>Since all the talks are available online I just want to briefly share about my favourite talks. I should mention that they can get a little bit technical.</p>

<p>First up was Matz’s. He talked about new things and improvements in future Ruby versions.</p>

<p>There are different kinds of typing, for example:</p>

<ul>
  <li>Strong Dynamic (Ruby)</li>
  <li>Weak Dynamic (Perl, Haskel)</li>
  <li>Strong Dynamic (Hskell)</li>
  <li>Weak Dynamic (C)</li>
</ul>

<p>There’s a design policy which is duck typing and it’s very important in ruby.</p>

<p>In dock typing we:</p>

<ul>
  <li>Do not classify</li>
  <li>Do not check types</li>
  <li>We just ask objects to behaves</li>
</ul>

<p>Static Typing basically lacks flexibility. Some other programming languages offer gradual typing or optional typing, and they are fundamentally static. Ruby wants something that is similar to staic typing (powerful), but it should allow duck typing. For example, GO is a static typed language that allows duck typing. it is called structural subtyping.</p>

<p>Matz calls this soft typing for Ruby.  Soft Typing is a type system that is defined by behaviour. Behaviours are sets of methods (and argument types), thus inferred types don’t have names. However, this is still just a concept and a part of Ruby3 project.</p>

<p>Here is what Matz wants for Ruby3:</p>

<ul>
  <li>Soft typing</li>
  <li>3 times faster</li>
  <li>Real concurrency</li>
</ul>

<p>He also talked about Ruby 2.4 and some of it’s changes are listed below:</p>

<p><strong>FixNum / BigNum Unification</strong></p>

<p>There will be no longer fixnum and bigness, just integers. There should not be so many compatibility issues, but if your program cares about the size of integers then you might have some issues.</p>

<p><strong>Smarter Conversions</strong></p>

<p>Some methods like upcase and downcase worked only for ASCII characters. With a lot of people using Unicode, Ruby now handles unicode case mappings. If you want to stick with ASCII you can do  <code>.upcase(:ascii) </code>.</p>

<p>That was it for Matz.</p>

<p>I am now going to cover Aaron’s talk which I really enjoyed. It is about Ruby GC algorithms in MRI. His talk stated as usual with some jokes, and he demonstrated different types of typing with his mechanical keyboard.</p>

<p>What is GC in high level?</p>

<p>You can think of objects as a tree and GC finds nodes in the tree that aren’t referenced from the root anymore and then frees them up. It uses different algorithms to find nodes that are not referenced.</p>

<p>What types of collectors MRI has?</p>

<p>Here is a list:</p>

<p><strong>Mark &amp; sweep</strong></p>

<p>Theres a Mark phase that starts from the root and marks all of the objects, then sweep phase frees everything that is not marked, and at the end we unmark them all.</p>

<p><img src="http://deborah-digges.github.io/images/gc.png" alt="marksweep" /></p>

<p>Pros:</p>

<ul>
  <li>Very easy</li>
</ul>

<p>Cons:</p>

<ul>
  <li>Too slow</li>
  <li>Stops the world</li>
  <li>Visits all the objects everytime</li>
</ul>

<p><strong>Generational</strong></p>

<p>To improve  the speed of Mark&amp;Sweep it divides the objects into old and new gens. Good thing is that this does not visit the old objects everytime and only on full GC. Theres a <em>remembered list</em> to keep track of interesting references such as when an old gen object points to a new gen. This is to avoid bad references.</p>

<p><img src="http://patshaughnessy.net/assets/2013/10/30/ruby-gen5.png" alt="gen" /></p>

<p>Pros:</p>

<ul>
  <li>Faster</li>
</ul>

<p>Cons:</p>

<ul>
  <li>Not as easy:</li>
  <li>Stops the world</li>
</ul>

<p><strong>Incremental</strong></p>

<p>To get around Stop the World there is Incremental GC. It uses Tri Color Marking:</p>

<ul>
  <li>White: will be collected</li>
  <li>Black: No reference to white objects, but reachable from root</li>
  <li>Gray: Reachable from root, but not yet scanned.</li>
</ul>

<p><img src="http://adamansky.bitbucket.org/slides/gc/img/gc-tricolor.png" alt="tricolor" /></p>

<p>The way it works is that:</p>

<ul>
  <li>It picks an object from gray and and moves it to black.</li>
  <li>For each object that the object references, they get moved to black as well.</li>
  <li>Keep repeating this until gray is empty.</li>
</ul>

<p>A big advantage is it can be interrupted at each step. Each step can be performed incrementally and halt time reduces. Although it has a similar problem with generational, and theres a <em>remembered list</em> to avoid bad references.</p>

<p>In Ruby, GC:</p>

<ul>
  <li>Is not parallel</li>
  <li>Is not real-time</li>
  <li>Is not compacting</li>
</ul>

<p>Now as for allocation we have a heap that contains all of our objects. There are big chunks of memory that are called pages and each has a linked list (each page is 16k). They have slots which contains ruby objects (each object is 40bytes). when object is garbage collected it’s taken out from the page.</p>

<p>As a problem there is poor reclamation in the process of GC. When we have a few pages and garbages get collected, objects won’t move to free up pages. We are basically left with some pages that have holes in them. This is one of the areas that Aaron is trying to improve.</p>

<p>As for the last part of the talk, here are some tools to use for inspections:</p>

<p>GC Inspection:</p>

<ul>
  <li>GC::Profiler.enable</li>
  <li>GC:Profiler.report</li>
</ul>

<p>Heap Inspection:</p>

<ul>
  <li>ObjectSpace.dump_all</li>
  <li>ObjectSpace.dump</li>
</ul>

<p>You can turn on tracing for objects. if you have problems finding where the object came from, you can use that:</p>

<ul>
  <li>trace_object_allocations</li>
</ul>

<p>That’s it. I hope you enjoyed this post.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hosseintoussi.github.io/dev-env/2016/07/07/TheMoveToVIM.html">
        The Move To VIM
      </a>
    </h1>

    <span class="post-date">07 Jul 2016</span>

    <p>I was a big Sublime fan, and I still am. I think it’s a great and powerful text editor. I had used it for more than 4 years but recently I felt that I use too much mouse and I wasn’t very efficient. I wanted to speed up my workflow and was hoping to do less for more. I started looking for improvements and VIM came up in every article that I read so I decided to give it a shot.</p>

<p><img src="http://eenube.com/images/headers/vimvssublime2.png" alt="SublimeToVim" title="sublime to vim" />
I knew VIM just enough to get around files, search for things, and save them. VIM is always my favourite when it comes to reading through massive log files. Apart from that, I never really used VIM for development or anything else.</p>

<p>To start, I found myself a cheat sheet, and installed a few recommended plugins like CTRLP, NERDTree, and ACK. I was good to go.</p>

<p>At the beginning It was extremely hard for me to use VIM. I was constantly reaching for my mouse. I had a hard time focusing on my tasks, and a few times, I just closed VIM, opened Sublime and thought it’s just better to use Sublime.</p>

<p>But I didn’t want to give up, and it was very difficult until I installed MacVIM. I have to admit it really helped me stay in VIM and not switch to Sublime in the middle of my work. The only reason for that in my opinion was that by default MacVIM has some mouse support enabled. I always knew I can enable mouse support in my Iterm2, but I was thinking I shouldn’t. Obviously I was very wrong.</p>

<p>With MacVIM and It’s mouse support, I learned VIM faster and I was always reminding myself to use mouse less. To help myself speed things up I’ve been adding plugins as I find the need for them, and you can see my dot files in my <a href="https://github.com/hosseintoussi/dotfiles">github repo</a>.</p>

<p>It’s been over 30 days now, and Im starting to love how easy I navigate through files and write code in VIM, plus I don’t care much for mouse anymore. I definitely encourage everyone to give VIM a try, it’s life changing!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hosseintoussi.github.io/others/2016/04/30/Troubleshooting.html">
        Troubleshooting
      </a>
    </h1>

    <span class="post-date">30 Apr 2016</span>

    <h3 id="analyze-and-understand-the-problem">Analyze and Understand the Problem</h3>
<p>This is a very important step to resolve any problem. I often see people skipping this step by jumping right into conclusions, and get caught in a loop with wild guesses.</p>

<p>As the title speaks for itself you need to ANALYZE and UNDERSTAND the problem.</p>

<h4 id="analyze"><em>Analyze:</em></h4>
<p>A clear description of the problem.</p>

<ul>
  <li>What is it? What is it NOT? What things do have the problem?</li>
  <li>Where is it? Where is it NOT?</li>
  <li>When is it occurring? When is it NOT?</li>
  <li>What is the impact on the business?</li>
</ul>

<h4 id="understand"><em>Understand:</em></h4>
<p>Understand how can the problem occur, and list down what could be wrong. Ask others who also know about the problem (Communicate!).</p>

<h3 id="collect-information-on-the-problem">Collect information on the problem</h3>
<p>It’s time for some discovery! In this step you should be searching, reproducing the problem, and gathering as much information as you can. The more information you have the easier you can identify the root cause.</p>

<h4 id="search"><em>Search:</em></h4>
<p>If its a known problem, try googling the symptoms or the error (if there is any), see if you can find anything that might help you with the issue. If it’s an application you are troubleshooting, start by looking into the logs. Basically use all the channels you can to collect information.</p>

<h4 id="reproduce-the-problem"><em>Reproduce the problem:</em></h4>
<p>Try it yourself, see how it is that you get the problem. Pay good attention to details. Try to map your search findings to what you are experiencing and take note.</p>

<h3 id="get-to-the-root-cause">Get to the root cause:</h3>
<p>As you collect enough information you should move forward and try to locate the root cause. Here are three steps that can help you to narrow down the problem.</p>

<h4 id="possible-causes"><em>Possible causes:</em></h4>
<p>Based on the information you’ve gathered you can list down what you think could be causing the problem.</p>

<p>Question what’s happening.</p>

<ul>
  <li>What’s the differences between the places where the problem is and is not happening?</li>
  <li>Any recent deployments?</li>
  <li>Any environment changes?</li>
  <li>If there are changes, how could they cause the problem?</li>
</ul>

<p>You might end up with a big list of possible causes. You can <em>divide and conquer</em>.</p>

<p><em>Divide the problem into a few separate parts, and examine them one by one:</em></p>

<p>Divide the problem into subproblems, and test each side separately to locate the side with the problem.</p>

<p><img src="https://s3.amazonaws.com/ka-cs-algorithms/divide_conquer_1_step.png" alt="Divide and conquer" title="Divide and conquer" /></p>

<p><em>You can use fishbone diagrams too. This specially works well when you are doing cause and effect analysis:</em></p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Ishikawa_Fishbone_Diagram.svg/2000px-Ishikawa_Fishbone_Diagram.svg.png" alt="fishbone diagram" title="fishbone diagram" /></p>

<p>Repeat until you isolate the problem. There may be times where you feel you need more information and in my opinion that is fine and it happens. Just go back a step and get more information.</p>

<h4 id="analyze-your-findings"><em>Analyze your findings:</em></h4>

<p>Some questions to ask yourself here:</p>

<ul>
  <li>How do these causes explain why the problem is happening?</li>
  <li>What are the assumptions?</li>
</ul>

<p>If you have a few causes here think about which one is the most probable.</p>

<h4 id="confirm-the-cause"><em>Confirm the cause:</em></h4>
<p>Get some additional information to confirm the root cause. Try to get your causes proven/checked. See if it’s possible to isolate the causes and confirming them.</p>

<h3 id="try-fixes">Try fixes:</h3>

<p>As you identify the culprit, you should go on and make a change to fix that. But, don’t just make changes and forget about it! You will need to continue and monitor the situation. Some questions to keep in mind:</p>

<ul>
  <li>Has the fix been successful?</li>
  <li>Do the symptoms still appear?</li>
</ul>

<p>You will have to repeat the steps above if problem still persists or your changes introduce new problems. It’s good to refer back to your step on identifying the problem. Refer to the diagrams you drew, or your note and check if you missed any thing. This time you have more information, and you already know what you tried did not solve the problem so you can cross something off your list of possible causes.</p>

<h3 id="go-further">Go further:</h3>

<p>When you get the issue solved, don’t just stop there! Think about how you can imporve the app, process, or whatever it is you were fixing. <em>“Leave the world a little better than you found it.”</em></p>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hosseintoussi.github.io/dev-env/2016/02/24/My-sublime-packages.html">
        My Sublime Text Editor Packages and Customisations
      </a>
    </h1>

    <span class="post-date">24 Feb 2016</span>

    <h2 id="packages"><strong>Packages</strong></h2>

<h3 id="gitgutter">GitGutter</h3>
<p>A plugin to show an icon in the gutter area indicating whether a line has been inserted, modified or deleted.
<a href="https://github.com/jisaacks/GitGutter">Github repo</a></p>

<h3 id="gitsavvy">GitSavvy</h3>
<p>A sublime text 3 plugin to provide basic git functionalities like: <code>init</code>, <code>add</code>, <code>commit</code>, <code>checkout</code>, <code>pull</code>, <code>push</code>.
<a href="https://github.com/divmain/GitSavvy">Github repo</a></p>

<h3 id="emmet">Emmet</h3>
<p>It adds HTML, CSS shortcuts. With it’s abbreviations you can quickly generate blocks.
<a href="https://github.com/sergeche/emmet-sublime">Github repo</a></p>

<p>Example:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html">#page&gt;div.logo+ul#navigation&gt;li*5&gt;a{Item $}</code></pre></div>

<p>with a <code>tab</code> it becomes:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;page&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;logo&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>Item 1<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>Item 2<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>Item 3<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>Item 4<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>Item 5<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;/pre&gt;</span></code></pre></div>

<h3 id="origami">Origami</h3>
<p>A nice way of dealing with panes as you need them.
<a href="https://github.com/SublimeText/Origami">Github repo</a></p>

<h3 id="sidebarenhancements">SideBarEnhancements</h3>
<p>Enhances the operations on Sidebar of Files and Folders.
<a href="https://github.com/titoBouzout/SideBarEnhancements">Github repo</a></p>

<h3 id="material-theme">Material Theme</h3>
<p>The most epic theme for Sublime Text 3!
<a href="https://github.com/equinusocio/material-theme">Github repo</a></p>

<h3 id="beautifyruby">BeautifyRuby</h3>
<p>Reformats/Reindentes your ruby codes.
<a href="https://github.com/CraigWilliams/BeautifyRuby">Github repo</a></p>

<h3 id="sublime-rubocop">Sublime Rubocop</h3>
<p>It runs <a href="https://github.com/bbatsov/rubocop">Rubocop</a> on your Ruby files in the Editor.
<a href="https://github.com/pderichs/sublime_rubocop">Github repo</a></p>

<h2 id="other-customisations"><strong>Other customisations</strong></h2>

<h3 id="key-bindings">Key Bindings</h3>
<p>I have two key bindings:</p>

<ul>
  <li>Toggle SideBar using <code>Command+\</code>.</li>
  <li>Toggle Minimap using <code>Command+shift+\</code>.</li>
</ul>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span>
	<span class="p">{</span> <span class="nt">&quot;keys&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;super+\\&quot;</span><span class="p">],</span> <span class="nt">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;toggle_side_bar&quot;</span> <span class="p">},</span>
	<span class="p">{</span> <span class="nt">&quot;keys&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;super+shift+\\&quot;</span><span class="p">],</span> <span class="nt">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;toggle_minimap&quot;</span> <span class="p">}</span>
<span class="p">]</span></code></pre></div>

<h3 id="user-settings">User Settings</h3>
<p>Two settings worth mentioning:</p>

<ul>
  <li>Trim trailing white spaces on save.</li>
  <li>Changing tab size to two spaces.</li>
</ul>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span>
	<span class="s2">&quot;trim_trailing_white_space_on_save&quot;</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
	<span class="s2">&quot;tab_size&quot;</span><span class="err">:</span> <span class="mi">2</span>
<span class="p">]</span></code></pre></div>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hosseintoussi.github.io/others/2016/01/21/My-first-post-to-jekyll.html">
        Lightbulb story!
      </a>
    </h1>

    <span class="post-date">21 Jan 2016</span>

    <p>Once upon a time there was an electrician, and this electrician was a good electrician, and had many customers. He provided a huge range of services, including providing lightbulbs.</p>

<p>One day, one of his customers came to him and asked him for a lightbulb. This surprised the electrician, because he had only finished fitting out this customers house the other day. But knowing that lightbulbs often break without reason, he happily provided this customer with a new lightbulb, and because he was dedicated to providing legendary customer service, threw in a second for free. “There”, he thought to himself, “They won’t need a lightbulb again for a least a month!”. The customer was greatly pleased with his electrician.</p>

<p>Day turned to night and night turned to day, and waiting at the Electricians store the next morning was the very same customer, requesting additional lightbulbs. This truly perplexed our noble electrician, as he knew that while lightbulbs did break, no one could be <em>that</em> unlucky. The electrician handed the customer a replacement pack of lightbulbs and then asked if he could do some ‘on-site testing’, to see what it was about this customer’s house that was causing the lightbulbs to break so quickly. So he followed the customer out to his house and walked into the foyer. He gasped, as he saw numberous bulletholes puncturing the ceiling of the his customers house. Shocked, he asked the customer “What happened? Is everything ok?!”
The customer shot him a perplexed look, “What do you mean?” he said. The electrician, lost for words, could only point to the ceiling. “Oh, I was actually meaning to ask you about that. The lightbulbs you’re selling me are great, but they’re a little small so I keep missing. Do you know any good firearms shops around that could sell me a more accurate gun?” The electrician promptly took his customer over to the wall, and detailed the operation of the light switch to this customer, who was appropriately blown away, and promised livelong gratitude and business to this electrician. Everyone lived happily ever after and there were no more holes in the ceiling.</p>

  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item older">Older</span>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
